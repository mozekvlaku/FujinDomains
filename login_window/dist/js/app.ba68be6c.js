(function(e){function n(n){for(var o,r,i=n[0],c=n[1],l=n[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(n);while(m.length)m.shift()();return s.push.apply(s,l||[]),t()}function t(){for(var e,n=0;n<s.length;n++){for(var t=s[n],o=!0,i=1;i<t.length;i++){var c=t[i];0!==a[c]&&(o=!1)}o&&(s.splice(n--,1),e=r(r.s=t[0]))}return e}var o={},a={app:0},s=[];function r(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=o,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=n,i=i.slice();for(var l=0;l<i.length;l++)n(i[l]);var u=c;s.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"3dfd":function(e,n,t){"use strict";t.r(n);t("b0c0");var o=t("7a23"),a={class:"fdlf-loginbox"},s={class:"columns is-gapless is-mobile fdlf-loginbox-cols"},r=Object(o["e"])("div",{class:"column is-half is-hidden-mobile fdlf-loginbox-image"},[Object(o["e"])("div",{class:"fdlf-loginbox-credits uk-position-bottom-left uk-position-small"})],-1),i={class:"column is-half-tablet is-full-mobile uk-position-relative"},c={key:0,class:"username-action"},l={class:"fdlf-loginbox-waterfall"},u={class:"fdlflbwf-logo"},d=["src"],m=Object(o["e"])("div",{class:"spacer"},null,-1),b={class:"fdlflbwf-action"},p=Object(o["e"])("label",null,[Object(o["e"])("b",null,"Uživatelské jméno")],-1),f={class:"control"},j={class:"control"},O={key:0,class:"has-text-danger"},g={key:1,class:"has-text-danger"},v=Object(o["e"])("div",{class:"spacer"},null,-1),w=Object(o["e"])("div",{class:"fdlflbwf-comments"},[Object(o["e"])("b",null,"Jaké uživatelské jméno mám použít?"),Object(o["e"])("p",null,[Object(o["f"])(" Můžete použít uživatelské jméno ve formátu "),Object(o["e"])("i",null,"DOMÉNA\\uživatelské_jméno"),Object(o["f"])(", či "),Object(o["e"])("i",null,"uživatelské_jméno@doména.tld"),Object(o["f"])(". ")]),Object(o["e"])("br"),Object(o["e"])("p",null," Pokud neznáte svou doménu, kontaktujte vašeho síťového správce. ")],-1),h={key:0,class:"password-action"},y={class:"fdlf-loginbox-waterfall"},k={class:"fdlflbwf-logo"},x=["src"],P=Object(o["e"])("div",{class:"spacer"},null,-1),z={class:"fdlflbwf-action"},R=Object(o["f"])("   "),_={class:"control"},D={class:"control"},S={key:0,class:"has-text-danger"},T={key:1,class:"has-text-danger"},U=Object(o["e"])("div",{class:"spacer"},null,-1),L={class:"fdlflbwf-comments"},M=Object(o["e"])("b",null,"Zapomněli jste heslo?",-1);function C(e,n,t,C,V,J){return Object(o["i"])(),Object(o["d"])("div",a,[Object(o["e"])("div",s,[r,Object(o["e"])("div",i,[Object(o["g"])(o["a"],{name:"slide",mode:"out-in"},{default:Object(o["l"])((function(){return[V.insertusername?(Object(o["i"])(),Object(o["d"])("div",c,[Object(o["e"])("div",l,[Object(o["e"])("div",u,[(Object(o["i"])(),Object(o["d"])("img",{src:V.system.logo,key:V.system.logo,id:"system-logo",rel:"preload"},null,8,d))]),m,Object(o["e"])("div",b,[p,Object(o["e"])("div",{class:Object(o["h"])(["field inputs has-addons",V.system.domainwrong||V.system.usernamewrong?"shake-horizontal":""])},[Object(o["e"])("div",f,[Object(o["m"])(Object(o["e"])("input",{class:"input",type:"text","onUpdate:modelValue":n[0]||(n[0]=function(e){return V.login.username=e}),placeholder:"Vaše uživatelské jméno s doménou",onKeyup:n[1]||(n[1]=Object(o["n"])((function(){return J.checkDomain&&J.checkDomain.apply(J,arguments)}),["enter"]))},null,544),[[o["k"],V.login.username]])]),Object(o["e"])("div",j,[Object(o["e"])("button",{class:"button is-dark",onClick:n[2]||(n[2]=function(){return J.checkDomain&&J.checkDomain.apply(J,arguments)})}," Další ")])],2),V.system.domainwrong?(Object(o["i"])(),Object(o["d"])("p",O," Tato doména v systému neexistuje ")):Object(o["c"])("",!0),V.system.usernamewrong?(Object(o["i"])(),Object(o["d"])("p",g," Toto uživatelské jméno se nenachází v doméně "+Object(o["j"])(V.domain.domainname),1)):Object(o["c"])("",!0)]),v,w])])):Object(o["c"])("",!0)]})),_:1}),Object(o["g"])(o["a"],{name:"slide",mode:"out-in"},{default:Object(o["l"])((function(){return[V.insertpassword?(Object(o["i"])(),Object(o["d"])("div",h,[Object(o["e"])("div",y,[Object(o["e"])("div",k,[(Object(o["i"])(),Object(o["d"])("img",{src:V.domain.logo,key:V.domain.logo,id:"domain-logo",onLoad:n[3]||(n[3]=function(){return J.domainlogoload&&J.domainlogoload.apply(J,arguments)})},null,40,x))]),P,Object(o["e"])("div",z,[Object(o["e"])("label",null,[Object(o["e"])("b",null,Object(o["j"])(V.domain.name),1),R,Object(o["e"])("small",null,Object(o["j"])(V.domain.user),1)]),Object(o["e"])("div",{class:Object(o["h"])(["field inputs has-addons",V.system.passwordwrong?"shake-horizontal":""])},[Object(o["e"])("div",_,[Object(o["m"])(Object(o["e"])("input",{class:"input",type:"password","onUpdate:modelValue":n[4]||(n[4]=function(e){return V.login.password=e}),placeholder:"Heslo",onKeyup:n[5]||(n[5]=Object(o["n"])((function(){return J.logon&&J.logon.apply(J,arguments)}),["enter"]))},null,544),[[o["k"],V.login.password]])]),Object(o["e"])("div",D,[Object(o["e"])("button",{class:"button is-primary",onClick:n[6]||(n[6]=function(){return J.logon&&J.logon.apply(J,arguments)})}," Přihlásit ")])],2),V.system.passwordempty?(Object(o["i"])(),Object(o["d"])("p",S," Vyplňte heslo ")):Object(o["c"])("",!0),V.system.passwordwrong?(Object(o["i"])(),Object(o["d"])("p",T," Špatné přihlašovací údaje ")):Object(o["c"])("",!0)]),U,Object(o["e"])("div",L,[M,Object(o["e"])("p",null," Pokud jste zapomněli heslo, můžete kontaktovat síťového administrátora, správce domény "+Object(o["j"])(V.domain.domainname)+", či správce organizace "+Object(o["j"])(V.domain.organizationname)+". ",1)])])])):Object(o["c"])("",!0)]})),_:1})])])])}var V=t("1da1"),J=(t("96cf"),t("d3b7"),t("b64b"),t("3ca3"),t("ddb0"),t("2b3d"),t("9861"),t("ac1f"),t("841c"),t("bc3a")),N=t.n(J),A={name:"App",components:{},data:function(){return{insertusername:!0,insertpassword:!1,system:{logo:"http://cdn.vespotok.net/img/fujindomains.svg",debug:"",loginname:"",logindomain:"",domainwrong:!1,usernamewrong:!1,passwordempty:!1,passwordwrong:!1},domain:{logo:"",name:"",user:"",organizationname:"",domainname:""},login:{username:"",password:""}}},props:{returnurl:{type:String,default:""}},methods:{checkDomain:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function n(){var t,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.system.domainwrong=!1,e.system.usernamewrong=!1,t="http://localhost:8080/api/v1/domain?username="+encodeURIComponent(e.login.username),e.system.debug=t,n.next=6,N.a.get(t);case 6:return o=n.sent,n.next=9,new Promise((function(e){return setTimeout(e,500)}));case 9:if("success"!==o.data.status){n.next=25;break}if(e.domain.logo=o.data.domain.organizationLogo,e.domain.domainname=o.data.domain.domainName,e.domain.organizationname=o.data.domain.organizationName,e.domain.name=o.data.user.name,e.domain.user=o.data.user.samLogin,0===Object.keys(o.data.user).length){n.next=22;break}return e.insertusername=!1,n.next=19,new Promise((function(e){return setTimeout(e,500)}));case 19:e.insertpassword=!0,n.next=23;break;case 22:e.system.usernamewrong=!0;case 23:n.next=26;break;case 25:e.system.domainwrong=!0;case 26:case"end":return n.stop()}}),n)})))()},logon:function(){var e=this;return Object(V["a"])(regeneratorRuntime.mark((function n(){var t,o,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.system.passwordwrong=!1,""!==e.login.password){n.next=5;break}e.system.passwordempty=!0,n.next=13;break;case 5:return e.system.passwordempty=!1,t="http://localhost:8080/api/v1/login?domain="+e.domain.domainname+"&username="+encodeURIComponent(e.login.username)+"&password="+e.login.password,n.next=9,N.a.get(t);case 9:return o=n.sent,n.next=12,new Promise((function(e){return setTimeout(e,500)}));case 12:"success"===o.data.status?(a=new URL(window.location.href),s=new URLSearchParams(a.search),window.location.href=atob(s.get("r"))+"?token="+o.data.token+"&domain="+e.domain.domainname):e.system.passwordwrong=!0;case 13:case"end":return n.stop()}}),n)})))()},domainlogoload:function(){return Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}},I=t("6b0d"),K=t.n(I);const q=K()(A,[["render",C]]);n["default"]=q},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("7a23"),a=t("3dfd"),s=(t("d3b7"),t("3ca3"),t("ddb0"),t("8c4f")),r=[{path:"/",name:"Login",props:function(e){return{id:e.query.returnurl}},component:function(){return Promise.resolve().then(t.bind(null,"3dfd"))}}],i=new s["a"]({mode:"history",base:"/",routes:r}),c=i;Object(o["b"])(a["default"]).use(c).mount("#app")}});
//# sourceMappingURL=app.ba68be6c.js.map